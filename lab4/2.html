<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>ES6</title>
<script type="text/javascript">
function getRandomNumber (min, max) {
	var number;
	number = Math.floor(Math.random() * (max - min)) + min;
	return number;
}
/*
Задача 2. Сделайте цепочку из трех промисов. Пусть первый промис возвращает число. Сделайте так, чтобы каждый последующий промис через 3 секунды возводил в квадрат результат предыдущего промиса. После окончания манипуляций выведите число алертом на экран. 
*/

let prom1 = new Promise(function(resolve, reject){
	setTimeout(() => {
		let num = getRandomNumber(1,10);
		resolve(num);
	}, 3000);
});

let prom2 = new Promise(function(resolve, reject){
	prom1.then (function (result) {
		console.log(result);
		setTimeout(() => {
			let num = result*result;
			resolve(num);
		}, 3000);
	});
});

let prom3 = new Promise(function(resolve, reject){
	prom2.then (function (result) {
		console.log(result);
		setTimeout(() => {
			let num = result*result;
			resolve(num);
		}, 3000);
	});
});

prom3.then(function (resolve) {
	console.log(resolve);
});

</script>
</head>
<body>
</body>
</html>